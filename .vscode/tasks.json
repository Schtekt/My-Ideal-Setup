{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Clean Build folder",
            "type": "shell",
            "group": "none",
            "windows": {
                "command": "Remove-Item",
                "args": [
                    "build",
                    "-Recurse",
                    "-Force",
                    "-Confirm:$false",
                    ";",
                    "echo",
                    "Cleaning Build folder."
                ]
            },
            "problemMatcher": []
        },
        {
            "label": "Generate build files (VS2022)",
            "type": "shell",
            "group": "none",
            "command": "premake5 vs2022",
            "problemMatcher": []
        },
        {
            "dependsOn": [
                "Generate build files (VS2022)",
                "Clean Build folder"
            ],
            "label": "Build (VS2022)",
            "type": "shell",
            "command": "msbuild",
            "args": [
                "${workspaceFolderBaseName}.sln",
                "/m",
                "/property:Configuration=${input:buildConfigVS2022}",
                "/property:Platform=${input:buildPlatformVS2022}",
                "/property:GenerateFullPaths=true",
                "/t:build"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "silent"
            },
            "problemMatcher": "$msCompile"
        }
    ],
    "inputs": [
        {
            "id": "buildConfigVS2022",
            "description": "Select build config for VS2022",
            "default": "Debug",
            "type": "pickString",
            "options": ["Debug", "Release"]
        },
        {
            "id": "buildPlatformVS2022",
            "description": "Select build platform for VS2022:",
            "default": "x64",
            "type": "pickString",
            "options": ["Win32", "x64"]
        }
    ]
}